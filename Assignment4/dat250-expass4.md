# DAT250 Report - Assignment 4

## Database Used

For this experiment, an H2 database was used, which is a lightweight, in-memory database that is easy to use, ideal for development and testing. The database runs automatically when the application starts and remains in memory during execution. When the application is closed, all data is lost unless configured to save data to disk.

## Inspection of Database Tables

To inspect the created tables, I used the H2 console, which can be started alongside the application. This allows connecting to the database and executing SQL queries to view the tables and their contents. Additionally, by setting `<property name="hibernate.show_sql" value="true"/>` in the `persistence.xml`, it is possible to see the SQL statements generated by Hibernate in the console.

### Created Tables

The tables created during the execution of the program include:

- **customer**
- **address**
- **creditcard**
- **bank**
- **pincode**

Here are screenshots from the H2 console showing the SQL code:

![Screenshot of H2 Console (createTable)](https://github.com/NachoAlcaldeT/DAT250/blob/main/Assignment4/createTable_screenshot.png)
![Screenshot of H2 Console (alterTable)](https://github.com/NachoAlcaldeT/DAT250/blob/main/Assignment4/alterTable_screenshot.png)

## Technical Problems Encountered

During the installation and use of Java Persistence Architecture (JPA), I encountered a few issues:

1. **Dependency Configuration**: Initially, the correct dependencies for Hibernate and H2 were not added to the `build.gradle` file, resulting in class not found errors. This was resolved by adding the appropriate dependencies.

2. **Database Connection Issues**: When attempting to connect to the H2 database, I received a connection error. This was resolved by ensuring that the connection URL in `persistence.xml` was correctly configured.

3. **Persistence Errors**: Some objects were not being persisted correctly. This was resolved by reviewing the object creation flow and ensuring that the addition methods were used to maintain relationships between entities.

## Code for Experiment 2

The code for the experiment can be found at the following link: [Experiment 2 Code](https://github.com/NachoAlcaldeT/DAT250/tree/main/Assignment4/dat250-jpa-tutorial-master).

## Pending Issues

1. **Handling Complex Relationships**: Although most relationships have been implemented correctly, there are still some minor issues with synchronizing collections between entities.

## Conclusion

This experiment has been a valuable learning experience about implementing JPA and managing relationships between entities. Through database inspection and problem resolution, I have been able to solidify my understanding of the subject.
